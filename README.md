<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="500" zoomAndPan="magnify" viewBox="0 0 375 374.999991" height="500" preserveAspectRatio="xMidYMid meet" version="1.0"><defs><g/></defs><g fill="#8cb0c0" fill-opacity="1"><g transform="translate(37.453127, 209.624986)"><g><path d="M 23.875 -9.28125 L 23.875 0 L 18.296875 0 C 14.335938 0 11.25 -0.96875 9.03125 -2.90625 C 6.8125 -4.851562 5.703125 -8.023438 5.703125 -12.421875 L 5.703125 -26.625 L 1.34375 -26.625 L 1.34375 -35.71875 L 5.703125 -35.71875 L 5.703125 -44.421875 L 16.640625 -44.421875 L 16.640625 -35.71875 L 23.8125 -35.71875 L 23.8125 -26.625 L 16.640625 -26.625 L 16.640625 -12.28125 C 16.640625 -11.21875 16.894531 -10.453125 17.40625 -9.984375 C 17.914062 -9.515625 18.769531 -9.28125 19.96875 -9.28125 Z M 23.875 -9.28125 "/></g></g></g><g fill="#8cb0c0" fill-opacity="1"><g transform="translate(63.435528, 209.624986)"><g><path d="M 14.90625 -29.765625 C 16.1875 -31.722656 17.785156 -33.265625 19.703125 -34.390625 C 21.628906 -35.523438 23.765625 -36.09375 26.109375 -36.09375 L 26.109375 -24.515625 L 23.109375 -24.515625 C 20.378906 -24.515625 18.328125 -23.925781 16.953125 -22.75 C 15.585938 -21.570312 14.90625 -19.515625 14.90625 -16.578125 L 14.90625 0 L 3.96875 0 L 3.96875 -35.71875 L 14.90625 -35.71875 Z M 14.90625 -29.765625 "/></g></g></g><g fill="#8cb0c0" fill-opacity="1"><g transform="translate(90.825851, 209.624986)"><g><path d="M 20.21875 0.515625 C 16.71875 0.515625 13.570312 -0.226562 10.78125 -1.71875 C 7.988281 -3.21875 5.789062 -5.351562 4.1875 -8.125 C 2.59375 -10.894531 1.796875 -14.140625 1.796875 -17.859375 C 1.796875 -21.523438 2.601562 -24.753906 4.21875 -27.546875 C 5.84375 -30.347656 8.0625 -32.492188 10.875 -33.984375 C 13.695312 -35.472656 16.859375 -36.21875 20.359375 -36.21875 C 23.847656 -36.21875 27 -35.472656 29.8125 -33.984375 C 32.632812 -32.492188 34.851562 -30.347656 36.46875 -27.546875 C 38.09375 -24.753906 38.90625 -21.523438 38.90625 -17.859375 C 38.90625 -14.191406 38.082031 -10.957031 36.4375 -8.15625 C 34.800781 -5.363281 32.5625 -3.21875 29.71875 -1.71875 C 26.882812 -0.226562 23.71875 0.515625 20.21875 0.515625 Z M 20.21875 -8.953125 C 22.3125 -8.953125 24.09375 -9.71875 25.5625 -11.25 C 27.039062 -12.789062 27.78125 -14.992188 27.78125 -17.859375 C 27.78125 -20.710938 27.0625 -22.90625 25.625 -24.4375 C 24.195312 -25.976562 22.441406 -26.75 20.359375 -26.75 C 18.222656 -26.75 16.445312 -25.988281 15.03125 -24.46875 C 13.625 -22.957031 12.921875 -20.753906 12.921875 -17.859375 C 12.921875 -14.992188 13.613281 -12.789062 15 -11.25 C 16.394531 -9.71875 18.132812 -8.953125 20.21875 -8.953125 Z M 20.21875 -8.953125 "/></g></g></g><g fill="#8cb0c0" fill-opacity="1"><g transform="translate(131.591351, 209.624986)"><g><path d="M 20.21875 0.515625 C 16.71875 0.515625 13.570312 -0.226562 10.78125 -1.71875 C 7.988281 -3.21875 5.789062 -5.351562 4.1875 -8.125 C 2.59375 -10.894531 1.796875 -14.140625 1.796875 -17.859375 C 1.796875 -21.523438 2.601562 -24.753906 4.21875 -27.546875 C 5.84375 -30.347656 8.0625 -32.492188 10.875 -33.984375 C 13.695312 -35.472656 16.859375 -36.21875 20.359375 -36.21875 C 23.847656 -36.21875 27 -35.472656 29.8125 -33.984375 C 32.632812 -32.492188 34.851562 -30.347656 36.46875 -27.546875 C 38.09375 -24.753906 38.90625 -21.523438 38.90625 -17.859375 C 38.90625 -14.191406 38.082031 -10.957031 36.4375 -8.15625 C 34.800781 -5.363281 32.5625 -3.21875 29.71875 -1.71875 C 26.882812 -0.226562 23.71875 0.515625 20.21875 0.515625 Z M 20.21875 -8.953125 C 22.3125 -8.953125 24.09375 -9.71875 25.5625 -11.25 C 27.039062 -12.789062 27.78125 -14.992188 27.78125 -17.859375 C 27.78125 -20.710938 27.0625 -22.90625 25.625 -24.4375 C 24.195312 -25.976562 22.441406 -26.75 20.359375 -26.75 C 18.222656 -26.75 16.445312 -25.988281 15.03125 -24.46875 C 13.625 -22.957031 12.921875 -20.753906 12.921875 -17.859375 C 12.921875 -14.992188 13.613281 -12.789062 15 -11.25 C 16.394531 -9.71875 18.132812 -8.953125 20.21875 -8.953125 Z M 20.21875 -8.953125 "/></g></g></g><g fill="#8cb0c0" fill-opacity="1"><g transform="translate(172.356851, 209.624986)"><g><path d="M 14.90625 -30.65625 C 15.976562 -32.320312 17.453125 -33.664062 19.328125 -34.6875 C 21.203125 -35.707031 23.398438 -36.21875 25.921875 -36.21875 C 28.867188 -36.21875 31.535156 -35.472656 33.921875 -33.984375 C 36.304688 -32.492188 38.191406 -30.359375 39.578125 -27.578125 C 40.960938 -24.804688 41.65625 -21.585938 41.65625 -17.921875 C 41.65625 -14.253906 40.960938 -11.019531 39.578125 -8.21875 C 38.191406 -5.425781 36.304688 -3.269531 33.921875 -1.75 C 31.535156 -0.238281 28.867188 0.515625 25.921875 0.515625 C 23.441406 0.515625 21.253906 0.00390625 19.359375 -1.015625 C 17.460938 -2.046875 15.976562 -3.367188 14.90625 -4.984375 L 14.90625 17.03125 L 3.96875 17.03125 L 3.96875 -35.71875 L 14.90625 -35.71875 Z M 30.53125 -17.921875 C 30.53125 -20.648438 29.769531 -22.789062 28.25 -24.34375 C 26.738281 -25.90625 24.875 -26.6875 22.65625 -26.6875 C 20.476562 -26.6875 18.628906 -25.894531 17.109375 -24.3125 C 15.597656 -22.738281 14.84375 -20.585938 14.84375 -17.859375 C 14.84375 -15.128906 15.597656 -12.972656 17.109375 -11.390625 C 18.628906 -9.816406 20.476562 -9.03125 22.65625 -9.03125 C 24.832031 -9.03125 26.6875 -9.828125 28.21875 -11.421875 C 29.757812 -13.023438 30.53125 -15.191406 30.53125 -17.921875 Z M 30.53125 -17.921875 "/></g></g></g><g fill="#8cb0c0" fill-opacity="1"><g transform="translate(215.81018, 209.624986)"><g><path d="M 1.796875 -17.921875 C 1.796875 -21.585938 2.488281 -24.804688 3.875 -27.578125 C 5.257812 -30.359375 7.144531 -32.492188 9.53125 -33.984375 C 11.925781 -35.472656 14.59375 -36.21875 17.53125 -36.21875 C 20.050781 -36.21875 22.257812 -35.707031 24.15625 -34.6875 C 26.0625 -33.664062 27.523438 -32.320312 28.546875 -30.65625 L 28.546875 -35.71875 L 39.484375 -35.71875 L 39.484375 0 L 28.546875 0 L 28.546875 -5.0625 C 27.472656 -3.394531 25.988281 -2.046875 24.09375 -1.015625 C 22.195312 0.00390625 19.988281 0.515625 17.46875 0.515625 C 14.570312 0.515625 11.925781 -0.238281 9.53125 -1.75 C 7.144531 -3.269531 5.257812 -5.425781 3.875 -8.21875 C 2.488281 -11.019531 1.796875 -14.253906 1.796875 -17.921875 Z M 28.546875 -17.859375 C 28.546875 -20.585938 27.785156 -22.738281 26.265625 -24.3125 C 24.753906 -25.894531 22.910156 -26.6875 20.734375 -26.6875 C 18.554688 -26.6875 16.707031 -25.90625 15.1875 -24.34375 C 13.675781 -22.789062 12.921875 -20.648438 12.921875 -17.921875 C 12.921875 -15.191406 13.675781 -13.023438 15.1875 -11.421875 C 16.707031 -9.828125 18.554688 -9.03125 20.734375 -9.03125 C 22.910156 -9.03125 24.753906 -9.816406 26.265625 -11.390625 C 27.785156 -12.972656 28.546875 -15.128906 28.546875 -17.859375 Z M 28.546875 -17.859375 "/></g></g></g><g fill="#8cb0c0" fill-opacity="1"><g transform="translate(259.263508, 209.624986)"><g><path d="M 1.796875 -17.859375 C 1.796875 -21.566406 2.550781 -24.804688 4.0625 -27.578125 C 5.582031 -30.359375 7.695312 -32.492188 10.40625 -33.984375 C 13.113281 -35.472656 16.21875 -36.21875 19.71875 -36.21875 C 24.195312 -36.21875 27.9375 -35.046875 30.9375 -32.703125 C 33.945312 -30.359375 35.921875 -27.050781 36.859375 -22.78125 L 25.21875 -22.78125 C 24.238281 -25.507812 22.335938 -26.875 19.515625 -26.875 C 17.515625 -26.875 15.914062 -26.09375 14.71875 -24.53125 C 13.519531 -22.976562 12.921875 -20.753906 12.921875 -17.859375 C 12.921875 -14.953125 13.519531 -12.71875 14.71875 -11.15625 C 15.914062 -9.601562 17.515625 -8.828125 19.515625 -8.828125 C 22.335938 -8.828125 24.238281 -10.191406 25.21875 -12.921875 L 36.859375 -12.921875 C 35.921875 -8.742188 33.9375 -5.457031 30.90625 -3.0625 C 27.882812 -0.675781 24.15625 0.515625 19.71875 0.515625 C 16.21875 0.515625 13.113281 -0.226562 10.40625 -1.71875 C 7.695312 -3.21875 5.582031 -5.351562 4.0625 -8.125 C 2.550781 -10.894531 1.796875 -14.140625 1.796875 -17.859375 Z M 1.796875 -17.859375 "/></g></g></g><g fill="#8cb0c0" fill-opacity="1"><g transform="translate(297.981134, 209.624986)"><g><path d="M 25.796875 0 L 14.90625 -14.96875 L 14.90625 0 L 3.96875 0 L 3.96875 -47.359375 L 14.90625 -47.359375 L 14.90625 -21.1875 L 25.734375 -35.71875 L 39.234375 -35.71875 L 24.390625 -17.796875 L 39.359375 0 Z M 25.796875 0 "/></g></g></g></svg>
![trNoBG](https://github.com/user-attachments/assets/15e0f1fe-aedd-4091-8dfa-8be02084b72c)

## [Troopack](https://troopack.com/)

Comprehensive subscription-based platform designed for managing customer relationships and support operations. It consists of a main website for user registration and subscription handling, integrated with a CRM system and real-time chat support. The platform enables users to subscribe, manage their CRM instances as owners, and invite operators or admins to collaborate on projects. Built with modern technologies, it emphasizes scalability, real-time interactions, and secure data management using containerized architecture.

## Overview

Troopack provides a seamless experience for users to:
- Register and activate subscriptions on the main website[](https://troopack.com/).
- Access a dedicated CRM instance upon subscription activation.
- Use real-time chat support for immediate assistance.
- Invite team members (operators/admins) to specific projects via shareable links.

The system is architected around three Docker containers:
1. **Main Website Container**: Handles user registration, subscription payments, and initial CRM record creation.
2. **CRM Container**: Manages CRM functionalities, including user authentication, project management, and admin/operator roles.
3. **Shared Database Container**: Stores all data, ensuring consistency across the main website and CRM.

Real-time events, such as notifications and chat updates, are powered by WebSockets for efficient, low-latency communication.

All code in this repository is written in English for clarity and maintainability.

## Tech Stack

- **Backend**: Go (Golang) for both the main website server and CRM server. Go is chosen for its performance, concurrency support, and simplicity in handling HTTP requests, WebSockets, and database interactions.
- **Frontend**:
  - Main Website: React with Vite for fast development and optimized builds.
  - CRM: React with TypeScript for type-safe development and enhanced code quality.
- **Chat Support**: Implemented in JavaScript, running on the same server as the CRM for integrated real-time functionality.
- **Database**: Shared database (e.g., PostgreSQL or similar, containerized) to store user records, subscriptions, CRM data, and project details.
- **Real-Time Communication**: WebSockets for handling live events like chat messages, notifications, and updates.
- **Containerization**: Docker for isolation, scalability, and easy deployment.
- **Other**: Email integration for sending generated passwords and notifications.

## How It Works

### User Registration and Subscription
1. Users visit the main website at https://troopack.com/ and register an account.
2. Upon successful subscription payment (handled securely on the Go backend), the server creates a new record in the shared database container.
3. A unique password is generated for the user's CRM access and sent via email.
4. This record is referenced by the CRM container, enabling the user to log in and manage their CRM instance.

### CRM Access and Roles
- **Owner Access**: If a user navigates to the CRM via the "Go to CRM" button on the main website, they are authenticated as the owner of their CRM instance. Owners have full control, including creating projects, managing data, and inviting team members.
- **Operator/Admin Access**: Owners can generate invitation links for specific projects. When users access the CRM through these links, they log in with operator or admin privileges limited to the invited projects. This supports collaborative workflows, such as team-based support or project management.

### Real-Time Features
- Chat support is integrated into the CRM, allowing users (owners, operators, admins) to communicate in real-time.
- WebSockets ensure that events like new messages, status updates, or subscription changes are propagated instantly without polling.

### Security and Data Flow
- Authentication is handled via generated passwords and session management on the Go servers.
- Data consistency is maintained through the shared database, with containers communicating via internal networking.
- Email notifications use secure protocols to deliver sensitive information like passwords.

## Architecture Diagram

<img width="682" height="448" alt="image" src="https://github.com/user-attachments/assets/708fd413-30d1-4b08-8f31-222c3d2bbcb2" />

- Arrows represent data flow: Subscription creates DB record; CRM references DB for operations.

## Contact

For questions or support, reach out via the chat support in the CRM or email [support@troopack.com](mailto:support@troopack.com).
